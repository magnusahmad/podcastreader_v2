<!-- templates/index.html -->

{% extends "base.html" %}

{% block main %}
<div class="hero">
<div class="hero-content">
{% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
            <div class="flashes">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}
{% if user %}
    <h1>Welcome back, {{user}}</h1>
{% else %}
    <h1>Discover your favourite podcasts on Kindle</h1>
{% endif %}
<p>Create ebooks from podcasts on demand, or browse an extensive collection of professionally edited podcast ebooks. Start reading podcasts now!</p>
<a href='#main-content'>
<button class="create-ebook-button">Create from URL</button>
</a>
<button hx-post="/shop_button" class="shop-button" type="submit">Shop <i>(Coming soon)</i></button>
</div>
</div>
<div class="parent">
<div class="main-content">
<h1 class="top-headline">Create an ebook from your favourite podcast</h1>
<div class="main-content" id="main-content">
<p>Provide a YouTube link and you will receive a Kindle-formatted ebook (.epub) to your email after some minutes.</p>
<form hx-post="/submit" hx-swap="outerHTML" hx-target="#main-content">
<input
type="text"
name="url"
placeholder="URL link to a YouTube video you'd like to transcribe..."
></input>
<input
type="email"
name="email"
placeholder="Which email do you want the eBook be sent to?"
/>
<button type="submit">Generate Ebook!</button>
</form>
<p>Free previews come unedited with basic transcription. If you would like higher fidelity transcriptions with professional editing, please check our paid options.</p>
</div>
</div>
<div class="secondary-content">
</div> 
</div>  

{% endblock main %}